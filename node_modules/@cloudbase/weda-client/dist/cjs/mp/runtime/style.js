"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.px2rpx = exports.concatClassList = exports.style2CssProperties = exports.styleToCss = void 0;
const util_1 = require("./util");
/**
 * Convert HtmlElement.style object to css declarations
 */
function styleToCss(style) {
    const styleDeclars = []; // ['color: red;', 'background-color: green']
    for (const key in style) {
        styleDeclars.push(`${/^--/.test(key) ? key : (0, util_1.toDash)(key)}:${style[key]};`);
    }
    return styleDeclars.join('');
}
exports.styleToCss = styleToCss;
function style2CssProperties(cssText) {
    return typeof cssText === 'string'
        ? cssText.split(';').reduce((map, item) => {
            const pair = item.split(':');
            const key = pair[0];
            const value = item.replace(`${key}:`, '');
            map[key.trim?.()] = value.trim();
            return map;
        }, {})
        : cssText;
}
exports.style2CssProperties = style2CssProperties;
function concatClassList(classList1 = [], classList2 = []) {
    if (!Array.isArray(classList1)) {
        classList1 = [classList1];
    }
    if (!Array.isArray(classList2)) {
        classList2 = [classList2];
    }
    return classList1.concat(classList2);
}
exports.concatClassList = concatClassList;
function px2rpx(object) {
    let reg = /\b(\d+(\.\d+)?)px\b/g;
    for (const key in object) {
        let value = object[key];
        if (typeof value === 'string') {
            object[key] = value.replace(reg, function (item, value) {
                return `${value}rpx`;
            });
        }
    }
    return object;
}
exports.px2rpx = px2rpx;
