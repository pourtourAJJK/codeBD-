import { dealCache as commonDealCache } from '../cache';
import { getTcbInstance } from './tcb';
let CACHE_KEY_MAP = {};
export function dealCache(params) {
    if (params.key) {
        CACHE_KEY_MAP[params.key] = true;
    }
    return commonDealCache(Object.assign(Object.assign({}, params), { getTcbInstance }));
}
/**
 * 清空已有缓存
 * @param param0
 * @returns
 */
export function clearCache() {
    try {
        Object.keys(CACHE_KEY_MAP).forEach((key) => {
            dealCache({
                key,
                type: 'remove',
            });
        });
        CACHE_KEY_MAP = {};
    }
    catch (e) {
        console.error('clear cache error:', e);
    }
}
