"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.clearCache = exports.dealCache = void 0;
const cache_1 = require("../cache");
const tcb_1 = require("./tcb");
let CACHE_KEY_MAP = {};
function dealCache(params) {
    if (params.key) {
        CACHE_KEY_MAP[params.key] = true;
    }
    return (0, cache_1.dealCache)(Object.assign(Object.assign({}, params), { getTcbInstance: tcb_1.getTcbInstance }));
}
exports.dealCache = dealCache;
/**
 * 清空已有缓存
 * @param param0
 * @returns
 */
function clearCache() {
    try {
        Object.keys(CACHE_KEY_MAP).forEach((key) => {
            dealCache({
                key,
                type: 'remove',
            });
        });
        CACHE_KEY_MAP = {};
    }
    catch (e) {
        console.error('clear cache error:', e);
    }
}
exports.clearCache = clearCache;
