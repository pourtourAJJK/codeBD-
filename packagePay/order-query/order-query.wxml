<!-- 订单查询页面结构 -->
<view class="order-query-page">
  <!-- 页面头部 -->
  <view class="page-header">
    <view class="header-left" bindtap="navigateBack">
      <text class="back-icon">←</text>
    </view>
    <view class="header-title">订单查询</view>
    <view class="header-right"></view>
  </view>

  <!-- 订单信息 -->
  <view class="order-info" wx:if="{{!loading && orderInfo}}">
    <view class="info-item">
      <text class="label">订单号：</text>
      <text class="value">{{orderId}}</text>
    </view>
    
    <view class="info-item">
      <text class="label">支付状态：</text>
      <text class="value" style="color: {{orderInfo.trade_state === 'SUCCESS' ? '#52c41a' : '#ff4d4f'}}">
        {{orderInfo.trade_state === 'SUCCESS' ? '支付成功' : 
          orderInfo.trade_state === 'REFUND' ? '已退款' : 
          orderInfo.trade_state === 'NOTPAY' ? '未支付' : 
          orderInfo.trade_state === 'CLOSED' ? '已关闭' : 
          orderInfo.trade_state === 'REVOKED' ? '已撤销' : 
          orderInfo.trade_state === 'USERPAYING' ? '支付中' : 
          orderInfo.trade_state === 'PAYERROR' ? '支付失败' : '未知状态'}}
      </text>
    </view>

    <view class="info-item" wx:if="{{orderInfo.total}}">
      <text class="label">支付金额：</text>
      <text class="value">¥{{(orderInfo.total / 100).toFixed(2)}}</text>
    </view>

    <view class="info-item" wx:if="{{orderInfo.pay_time}}">
      <text class="label">支付时间：</text>
      <text class="value">{{orderInfo.pay_time}}</text>
    </view>
  </view>

  <!-- 加载中 -->
  <view class="loading" wx:if="{{loading}}">
    <text>查询中...</text>
  </view>

  <!-- 无订单信息 -->
  <view class="empty" wx:if="{{!loading && !orderInfo && orderId}}">
    <text>暂无订单信息</text>
    <button bindtap="queryOrder" class="retry-btn">重新查询</button>
  </view>
</view>